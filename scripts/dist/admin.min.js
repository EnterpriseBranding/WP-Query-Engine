jQuery(function(e){"use strict";var n=function(){e.each(e(".wpcl_rules_wrapper"),function(n,t){var a=e(t);return a.is(":visible")?a.hasClass("wpcl-js")?null:new function(n){var t,a,r,i,o,l,p=function(n){n.preventDefault();var i=f(e(a.replace(new RegExp("{{INDEX}}","gi"),++r)));o.append(i),t.push(i),l.addClass("hidden")},c=function(e){e.preventDefault();var n=u(e.data.rule);!1!==n&&(t[n].remove(),t.splice(n,1),0===t.length&&l.removeClass("hidden"))},d=function(e){var n=u(e.data.rule);if(!1!==n){var a=wpcl_query_engine_acf.query_options[t[n].$type.val()].choices;t[n].$selection.find("option").remove();for(var r in a)t[n].$selection.append('<option value="'+a[r]+'">'+a[r]+"</option>");"post_type"===t[n].$type.val()?(t[n].$operator.prop("disabled","disabled"),t[n].$operator.val("IN")):t[n].$operator.removeAttr("disabled")}},u=function(e){for(var n=!1,a=0;a<t.length;a++)if(e.is(t[a])){n=a;break}return n},f=function(e){return e.$button=e.find('[data-action="remove"]'),e.$type=e.find(".type"),e.$selection=e.find(".selection"),e.$operator=e.find(".operator"),e.$button.on("click",{rule:e},c),e.$type.on("change",{rule:e},d),e};return n.addClass("wpcl-js"),o=n.find(".rule-container"),a=n.find("#wpcl-field-template").html(),i=n.find('[data-action="add"]'),l=n.find(".wpcl-notice"),t=e.map(n.find(".wpcl_rule_fieldset"),function(n){return f(e(n))}),i.on("click",p),r=t.length,n}(a):null})};n(),acf.add_action("append",n)});
//# sourceMappingURL=admin.min.js.map